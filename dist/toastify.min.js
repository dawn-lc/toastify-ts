"use strict";(()=>{class o{static timeoutMap=new Map;static containers=new Map;static getContainer(t,e){const i=`toast-container-${t}-${e}`;return this.containers.has(i)?this.containers.get(i):this.createContainer(i,t,e)}static createContainer(t,e,i){const s=document.createElement("div");return s.classList.add("toast-container",t,`toast-${e}`,`toast-${i}`),s.setAttribute("role","region"),document.body.appendChild(s),this.containers.set(t,s),s}static addTimeout(t,e,i){this.delTimeout(t);const s=window.setTimeout(()=>{i(),this.delTimeout(t)},e);this.timeoutMap.set(t,s)}static delTimeout(t){this.timeoutMap.has(t)&&(clearTimeout(this.timeoutMap.get(t)),this.timeoutMap.delete(t))}}class n{static defaults={gravity:"top",position:"right",stopOnFocus:!0,oldestFirst:!0};options;duration;element;root;gravity;position;close;oldestFirst;stopOnFocus;onClick;onClose;contentElement;closeButton;mouseOverHandler;mouseLeaveHandler;clickHandler;closeButtonHandler;animationEndHandler;constructor(t){this.options={...n.defaults,...t},this.element=document.createElement("div"),this.gravity=this.options.gravity,this.position=this.options.position,this.root=this.options.root??o.getContainer(this.gravity,this.position),this.oldestFirst=this.options.oldestFirst,this.stopOnFocus=this.options.stopOnFocus,this.duration=this.options.duration??-1,this.close=this.options.close??!1,this.onClick=this.options.onClick,this.onClose=this.options.onClose,this.applyBaseStyles().createContent().addCloseButton().measureDimensions().ensureCloseMethod().bindEvents()}applyBaseStyles(){return this.element.classList.add("toast",`toast-${this.gravity}`,`toast-${this.position}`),this.options.className&&(Array.isArray(this.options.className)?this.options.className:[this.options.className]).forEach(e=>this.element.classList.add(e)),this}createContent(){return this.contentElement=document.createElement("div"),this.contentElement.classList.add("toast-content"),this.options.text&&(this.contentElement.textContent=this.options.text),this.options.node&&this.contentElement.appendChild(this.options.node),this.options.style&&this.applyStyles(this.contentElement,this.options.style),this.element.appendChild(this.contentElement),this}addCloseButton(){return this.close?(this.closeButton=document.createElement("span"),this.closeButton.ariaLabel="Close",this.closeButton.className="toast-close",this.closeButton.textContent="ðŸ—™",this.closeButtonHandler=()=>this.hide(),this.closeButton.addEventListener("click",this.closeButtonHandler),this.element.appendChild(this.closeButton),this):this}measureDimensions(){const t={display:this.element.style.display,visibility:this.element.style.visibility,position:this.element.style.position};this.applyStyles(this.element,{display:"block",visibility:"hidden",position:"absolute"}),document.body.appendChild(this.element);const{height:e,width:i}=this.element.getBoundingClientRect();return this.element.style.setProperty("--toast-height",`${e}px`),this.element.style.setProperty("--toast-width",`${i}px`),document.body.removeChild(this.element),this.applyStyles(this.element,t),this}ensureCloseMethod(){return this.duration<=0&&!this.close&&!this.onClick&&(this.onClick=()=>this.hide()),this}bindEvents(){return this.stopOnFocus&&this.duration>0&&(this.mouseOverHandler=()=>o.delTimeout(this),this.mouseLeaveHandler=()=>o.addTimeout(this,this.duration,()=>this.hide()),this.element.addEventListener("mouseover",this.mouseOverHandler),this.element.addEventListener("mouseleave",this.mouseLeaveHandler)),this.onClick&&(this.clickHandler=t=>{this.onClick?.call(this,t)},this.element.addEventListener("click",this.clickHandler)),this}applyStyles(t,e){for(const i in e)e[i]!==void 0&&(t.style[i]=e[i])}show(){const t=this.oldestFirst?this.root.firstChild:this.root.lastChild;return this.root.insertBefore(this.element,t),this.element.classList.replace("hide","show")||this.element.classList.add("show"),this.duration&&this.duration>0&&o.addTimeout(this,this.duration,()=>this.hide()),this}showToast(){return this.show()}hide(){this.element&&(o.delTimeout(this),this.mouseOverHandler&&this.element.removeEventListener("mouseover",this.mouseOverHandler),this.mouseLeaveHandler&&this.element.removeEventListener("mouseleave",this.mouseLeaveHandler),this.clickHandler&&this.element.removeEventListener("click",this.clickHandler),this.closeButton&&this.closeButtonHandler&&this.closeButton.removeEventListener("click",this.closeButtonHandler),this.animationEndHandler=t=>{t.animationName.startsWith("toast-out")&&(this.element?.removeEventListener("animationend",this.animationEndHandler),this.element?.remove())},this.element.addEventListener("animationend",this.animationEndHandler),this.element.classList.replace("show","hide")||this.element.classList.add("hide"),this.onClose?.())}hideToast(){this.hide()}}function a(l){return new n(l)}globalThis.Toast=a;globalThis.Toastify=a;})();
//# sourceMappingURL=toastify.min.js.map
